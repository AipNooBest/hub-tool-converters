# hub-tool-converters

Набор конвертеров/парсеров отчетов о сканировании из формата сканера в формат AppSec.HUB

## Содержимое репозитория

1. [Модель отчета AppSec.Hub](hub/models/hub.py)
2. [Парсеры форматов инструментов](converters/parsers)
3. [Конфиг файлы](config)
4. [Тесты](tests)

## Документация

1. [Общая документация по импорту отчетов](https://docs.appsec-hub.ru/2024.1/ug/security%20issues/?h=импор#_3)
2. [Схема отчета AppSec.HUB](https://docs.appsec-hub.ru/2024.1/gi/appendix%202/)
3. [Пример отчета в формате AppSec.HUB](https://docs.appsec-hub.ru/2024.1/gi/appendix%202/#_1)

### Параметры запуска

| Параметр          | Описание                                                   | Обязательный             |
|-------------------|------------------------------------------------------------|--------------------------|
| -t; --type        | Тип источника (--help для просмотра всех типов)            | Да                       |
| -s; --scanner     | Тип сканера (--help для просмотра всех типов)              | Да                       |
| -f; --filename    | Путь до отчета сканера                                     | Да                       |
| -o; --output      | Путь где будет создан отчет в формате AppSec.HUB           | Да                       |
| -n; --name        | Название репозитория в AppSec.Hub                          | Да                       |
| -u; --url         | Урл репозитория                                            | Да                       |
| -b; --branch      | Ветка в репозитории, по которой запускалось сканирование   | Нет, по умолчанию master |
| -c; --commit      | Коммит в репозитории, по которому запускалось сканирование | Нет, по умолчанию master |
| -bt; --build-tool | Сборщик (--help для просмотра всех сборщиков)              | Нет, по умолчанию maven  |
| --stage           | Состояние экземпляра                                       | Нет                      |

## Пример запуска

1. Создание виртуального окружения и его активация
```bash
python -m venv venv && source venv/bin/activate
```

2. Установка зависимостей
```bash
pip install -r requirements.txt
```

3. Запуск конвертера
```bash
python main.py -t CODEBASE -s sarif -f ./tests/codebase/sarif/mobsfscan.json -o ./tests/codebase/sarif/mobsfscan_hub.json -n hub-tool-converters -u https://github.com/Swordfish-Security/hub-tool-converters.git
```

## Запуск тестов

1. Создание виртуального окружения и его активация
```bash
python -m venv venv && source venv/bin/activate
```

2. Установка зависимостей
```bash
pip install -r requirements.txt
```

3. Запуск тестов
```bash
python -m unittest tests/parsers.py
```

## Вносите свой вклад

Вы можете помочь нашему сообществу внеся вклад. Им могут быть:

1. Скрипты для конвертации отчетов о сканировании для различных инструментов в AppSec.HUB
2. Улучшение документации и примеры к ней

Для этого:

1. Сделайте форк этого репозитория;
2. Внесите в нём необходимые изменения;
3. Откройте Pull Request.

### Чеклист для добавления новых скриптов

- [ ] Создать файлы скрипта с кодом в уже существующей директории или создать новую (при необходимости)
- [ ] Обновить или создать README.md в директории. Необходимо указать всю важную информацию:
    - Назначение кода
    - Необходимые библиотеки
    - Способ установки и настройки
